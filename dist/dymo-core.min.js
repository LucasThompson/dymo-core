function k(a,b,c){function d(a){var b=a.getName();f[b]=a;f[b].P.push(e)}var e=this,f={};d(new l("AutoControlFrequency",100));d(new l("AutoControlTrigger",0));m.call(this,a,0,f);var g;this.s=d;this.getParameter=function(a){return f[a]};this.g=function(){g=setInterval(b,f.AutoControlFrequency.I())};this.reset=function(){clearInterval(g);g=null;c&&c()};this.na=function(a){a==f.AutoControlFrequency?g&&(this.reset(),this.g()):a==f.AutoControlTrigger&&(g?this.reset():this.g())}}n(k,m);n(function(a){var b=this;a||(a=.5);k.call(this,"Brownian",function(){var a=b.getParameter("BrownianMaxStepSize").I(),a=b.I()+(2*a*Math.random()-a),a=Math.min(Math.max(a,0),1);b.update(a)});this.s(new l("BrownianMaxStepSize",.1));this.update(a);this.g()},k);n(function(a,b){var c=this;a||(a=1E4);var d=0;b&&(d=b);var e=1!=d;k.call(this,"Ramp",function(){var b=1/a*c.getParameter("AutoControlFrequency").I();e||(b*=-1);d+=b;0<d&&1>d?c.update(d):1<=d?(c.update(1),c.reset()):0>=d&&(c.update(0),c.reset())},function(){e=!e});this.update(d)},k);n(function(){var a=this;k.call(this,"Random",function(){a.update(Math.random())});this.g()},k);function m(a,b,c){function d(){for(var a=0;a<f.length;a++)void 0!=f[a]&&f[a].xa(e,this)}var e,f=[];this.getName=function(){return a};this.getParameter=function(a){if(c)return c[a]};this.I=function(){return e};this.update=function(a){!isNaN(a)&&(void 0==e||1E-6<Math.abs(a-e))&&(e=a,d())}};function l(a,b,c){this.name=a;this.value=b;this.s=0;this.X=c;this.g=[];this.P=[]}l.prototype.getName=function(){return this.name};l.prototype.I=function(){return this.value};l.prototype.update=function(a,b){var c=a;if(!isNaN(c)&&(this.X&&(c=Math.round(c)),1E-6<Math.abs(c-this.value))){this.s=c-this.value;this.value=c;for(c=0;c<this.g.length;c++)this.g[c]!=b&&this.g[c].ya(this.value);if(this.s)for(c=0;c<this.P.length;c++)this.P[c].na(this)}};function n(a,b){var c=Object.create(b.prototype);c.constructor=a;a.prototype=c};function p(a){this.u=new q(!1);this.v=new r(!1,a);this.b=new t;this.L=new t;this.c=new t;this.m=this.i=0;this.ia=this.ha=this.U=1;this.G()}
u(p.prototype,{clear:function(){this.u.clear();this.v.clear()},clone:function(){var a=new p;a.A=this.i;a.m=this.m;return a},get A(){return this.i},set A(a){this.ha=a;this.G()},set va(a){this.A=1+.01*a},get m(){return this.l},set m(a){this.ia=a;this.G()},set wa(a){this.m=1+.01*a},set pitch(a){this.U=a;this.G()},set qa(a){this.pitch=Math.exp(.69314718056*a);this.G()},set X(a){this.qa=a/12},get inputBuffer(){return this.b},get outputBuffer(){return this.c},G:function(){var a=this.l,b=this.i;this.l=this.ia/
this.U;this.i=this.ha*this.U;w(this.l,a)&&(this.v.m=this.l);w(this.i,b)&&(this.u.A=this.i);1<this.i?this.c!=this.u.outputBuffer&&(this.v.inputBuffer=this.b,this.v.outputBuffer=this.L,this.u.inputBuffer=this.L,this.u.outputBuffer=this.c):this.c!=this.v.outputBuffer&&(this.u.inputBuffer=this.b,this.u.outputBuffer=this.L,this.v.inputBuffer=this.L,this.v.outputBuffer=this.c)},F:function(){1<this.i?(this.v.F(),this.u.F()):(this.u.F(),this.v.F())}});
function t(){this.w=new Float32Array;this.j=this.h=0}t.prototype={get C(){return this.w},get position(){return this.h},get B(){return 2*this.h},get D(){return this.j},get H(){return 2*(this.h+this.j)},clear:function(){z(this);A(this)},put:function(a){this.j+=a}};function A(a){0<a.h&&(a.w.set(a.w.subarray(a.B,a.H)),a.h=0)}function B(a,b){var c=2*b;a.w.length<c?(c=new Float32Array(c),c.set(a.w.subarray(a.B,a.H)),a.w=c,a.h=0):A(a)}function z(a,b){if(!(0<=b)||b>a.j)b=a.j;a.j-=b;a.h+=b}
function u(a,b){for(var c in b){var d=b.__lookupGetter__(c),e=b.__lookupSetter__(c);d||e?(d&&a.__defineGetter__(c,d),e&&a.__defineSetter__(c,e)):a[c]=b[c]}}function w(a,b){return 1E-10<(a>b?a-b:b-a)}function C(a){this.g=a}
C.prototype={get inputBuffer(){return this.g.inputBuffer},get outputBuffer(){return this.g.outputBuffer},clear:function(){this.g.clear();this.s=0},get position(){return this.h},set position(a){if(a>this.h)throw new RangeError("New position may not be greater than current position");var b=this.s-(this.h-a);if(0>b)throw new RangeError("New position falls outside of history buffer");this.s=b;this.h=a}};u(function(a,b){this.g=b;this.h=this.s=0}.prototype,C.prototype);
function D(a){a?(this.inputBuffer=new t,this.outputBuffer=new t):this.inputBuffer=this.outputBuffer=null}D.prototype={get inputBuffer(){return this.b},set inputBuffer(a){this.b=a},get outputBuffer(){return this.c},set outputBuffer(a){this.c=a},clear:function(){this.b.clear();this.c.clear()}};function q(a){D.call(this,a);this.ka();this.A=1}u(q.prototype,D.prototype);
u(q.prototype,{set A(a){this.i=a},ka:function(){this.ea=this.da=this.f=0},clone:function(){var a=new q;a.A=this.i;return a},F:function(){var a=this.b.D,b=this.c;B(b,b.D+(a/this.i+1));a=this.la(a);z(this.b);this.c.put(a)},la:function(a){if(0==a)return 0;for(var b=this.b.C,c=this.b.B,d=this.c.C,e=this.c.H,f=0,g=0;1>this.f;)d[e+2*g]=(1-this.f)*this.da+this.f*b[c],d[e+2*g+1]=(1-this.f)*this.ea+this.f*b[c+1],g++,this.f+=this.i;--this.f;if(1!=a)a:for(;;){for(;1<this.f;)if(--this.f,f++,f>=a-1)break a;var h=
c+2*f;d[e+2*g]=(1-this.f)*b[h]+this.f*b[h+2];d[e+2*g+1]=(1-this.f)*b[h+1]+this.f*b[h+3];g++;this.f+=this.i}this.da=b[c+2*a-2];this.ea=b[c+2*a-1];return g}});var E=8,F=[[124,186,248,310,372,434,496,558,620,682,744,806,868,930,992,1054,1116,1178,1240,1302,1364,1426,1488,0],[-100,-75,-50,-25,25,50,75,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-20,-15,-10,-5,5,10,15,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-4,-3,-2,-1,1,2,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],G=-10/1.5,H=25-.5*G;
function r(a,b){D.call(this,a);this.W=!0;this.V=!1;this.o=null;this.a=0;this.N=this.O=!0;this.l=1;this.ga(b,0,0,E)}u(r.prototype,D.prototype);
u(r.prototype,{clear:function(){D.prototype.clear.call(this);this.ja()},ja:function(){this.V&&(this.V=!1,this.o=null)},ga:function(a,b,c,d){0<a&&(this.sampleRate=a);0<d&&(this.ba=d);0<b?(this.T=b,this.O=!1):this.O=!0;0<c?(this.S=c,this.N=!1):this.N=!0;this.Z();this.ma(this.ba);this.m=this.l},set m(a){this.l=a;this.Z();this.aa=this.l*(this.J-this.a);this.K=0;this.fa=Math.max(Math.floor(this.aa+.5)+this.a,this.J)+this.R},get g(){return this.fa},get s(){return this.a+Math.max(0,this.J-2*this.a)},ma:function(a){a=
this.sampleRate*a/1E3;16>a&&(a=16);this.a=a-a%8;this.M=new Float32Array(2*this.a);this.o=new Float32Array(2*this.a)},$:function(a,b,c){return a<b?b:a>c?c:a},Z:function(){var a;this.O&&(a=150+-50*this.l,a=this.$(a,50,125),this.T=Math.floor(a+.5));this.N&&(a=H+G*this.l,a=this.$(a,15,25),this.S=Math.floor(a+.5));this.J=Math.floor(this.sampleRate*this.T/1E3);this.R=Math.floor(this.sampleRate*this.S/1E3)},set ua(a){this.W=a},clone:function(){var a=new r;a.m=this.m;a.ga(this.sampleRate,this.T,this.S,this.ba);
return a},ra:function(){return this.W?this.ta():this.sa()},sa:function(){var a,b,c,d;this.ca();b=Number.MIN_VALUE;for(d=a=0;d<this.R;d++)c=this.Y(2*d,this.M),c>b&&(b=c,a=d);return a},ta:function(){var a,b,c,d,e,f,g;this.ca();c=Number.MIN_VALUE;for(e=f=b=0;4>e;e++){for(a=0;F[e][a];){g=f+F[e][a];if(g>=this.R)break;d=this.Y(2*g,this.M);d>c&&(c=d,b=g);a++}f=b}return b},ca:function(){var a,b,c;for(a=0;a<this.a;a++)c=a*(this.a-a),b=2*a,this.M[b]=this.o[b]*c,this.M[b+1]=this.o[b+1]*c},Y:function(a,b){var c=
this.b.C;a+=this.b.B;var d,e,f;d=0;for(e=2;e<2*this.a;e+=2)f=e+a,d+=c[f]*b[e]+c[f+1]*b[e+1];return d},oa:function(a){this.pa(2*a)},pa:function(a){var b=this.b.C;a+=this.b.B;var c=this.c.C,d=this.c.H,e,f,g,h,v,x,y;h=1/this.a;for(e=0;e<this.a;e++)g=(this.a-e)*h,v=e*h,f=2*e,x=f+a,y=f+d,c[y+0]=b[x+0]*v+this.o[f+0]*g,c[y+1]=b[x+1]*v+this.o[f+1]*g},F:function(){var a,b;if(null==this.o){if(this.b.D<this.a)return;this.o=new Float32Array(2*this.a);a=this.b;b=this.a;var c=a.B;this.o.set(a.w.subarray(c,c+2*
b));z(a,b)}for(;this.b.D>=this.fa;){a=this.ra();b=this.c;B(b,b.D+this.a);this.oa(Math.floor(a));this.c.put(this.a);b=this.J-2*this.a;if(0<b){var d=this.b,e=a+this.a,f=b,e=e||0;0<=f||(f=d.D-e);b=this.c;c=d.C;e=d.position+e;d=f;e=e||0;e=2*e;0<=d||(d=(c.length-e)/2);f=2*d;B(b,d+b.j);b.w.set(c.subarray(e,e+f),b.H);b.j+=d}a=this.inputBuffer.B+2*(a+this.J-this.a);this.o.set(this.b.C.subarray(a,a+2*this.a));this.K+=this.aa;a=Math.floor(this.K);this.K-=a;z(this.b,a)}}});u(r.prototype,{get m(){return this.l}});
